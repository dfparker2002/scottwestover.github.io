<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> Phaser3 - Create a simple preloader · Blog</title><meta name="description" content="Learn how to make a simple preloader in Phaser 3."><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="icon" href="/favicon.png"><link rel="stylesheet" href="/css/apollo.css"><link rel="search" type="application/opensearchdescription+xml" href="http://scottwestover.github.io/atom.xml" title="Blog"><!-- Add to home screen for Android and modern mobile browsers--><link rel="manifest" href="/manifest.json"><meta name="theme-color" content="#008aff"><!-- Add to home screen for Safari on iOS--><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="default"><meta name="apple-mobile-web-app-title" content="Scott Westover Blog"><link rel="apple-touch-icon" href="/images/icons/icon-152x152.png"><!-- Add to home screen for Windows--><meta name="msapplication-TileImage" content="/images/icons/icon-152x152.png"><meta name="msapplication-TileColor" content="#000000"></head><body><div class="wrap"><header><a href="/" class="logo-link"><img src="/favicon.png" alt="logo"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">BLOG</a></li><li class="nav-list-item"><a href="/archives/" target="_self" class="nav-list-link">ARCHIVE</a></li><li class="nav-list-item"><a href="/tag/" target="_self" class="nav-list-link">TAGS</a></li><li class="nav-list-item"><a href="https://github.com/scottwestover" target="_blank" class="nav-list-link">GITHUB</a></li><li class="nav-list-item"><a href="/atom.xml" target="_self" class="nav-list-link">RSS</a></li></ul></header><main class="container"><div class="post"><article class="post-block"><h1 class="post-title">Phaser3 - Create a simple preloader</h1><!-- h1.post-title// != tag.name--><div class="post-info">Feb 14, 2018</div><div class="post-content"><p>With the official release of Phaser 3 this week, and Phaser 2 games not working on Phaser 3, it would be a great time to start using Phaser 3. In this tutorial, I am going to show you how to make a simple preloader in Phaser 3.<br><a id="more"></a></p>
<p>For this tutorial, we are going to keep things simple, and just put all of our code in our HTML file. To get started, we need to create an <code>index.html</code> file, add the <code>phaser.min.js</code> script, and initialize our Phaser game object. Here is an example of that:</p>
<script src="https://gist.github.com/scottwestover/d7ab1a8b2643f038c00412960013e83e.js?file=start.html"></script>

<p>In order to run your game, you will need to host it on a local web server. If you are not sure on how to do this, you can read more about it here: <a href="https://phaser.io/tutorials/getting-started" target="_blank" rel="noopener">https://phaser.io/tutorials/getting-started</a>.</p>
<p>If you try running your game right now, you should see an empty screen with a black box. However, if you open the console, you should see that Phaser 3 is running.</p>
<img src="/2018/02/14/Phaser3-Create-a-simple-preloader/1.png" title="empty game">
<p>Next, we will load an image into our game. For this tutorial, I am going to use the Phaser logo. You can right click on the image, and choose ‘Save Image As…’, or you can use any image you have. You will need to add this image to the same directory that your index.html file is in.<br><img src="/2018/02/14/Phaser3-Create-a-simple-preloader/logo.png" title="phaser logo image"></p>
<p>In the <code>preload</code> function, add the following code to load the image:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">this.load.image(&apos;logo&apos;, &apos;logo.png&apos;);</span><br></pre></td></tr></table></figure></p>
<p>In the <code>create</code> function, add the following code to add the image to our game:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">var logo = this.add.image(400, 300, &apos;logo&apos;);</span><br></pre></td></tr></table></figure></p>
<p>If you reload the game, you should see your image appear in the game.<br><img src="/2018/02/14/Phaser3-Create-a-simple-preloader/2.png" title="phaser game step 2"></p>
<p>The image loads pretty quickly, right? Well, if your game has to load a large number assets (images, audio files, fonts, etc), or the user has a slow internet connection, it could take awhile for all your assets to load, and the user would just see a black screen. To simulate this, you can add the following code to the <code>preload</code> function below the image you loaded:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">for (var i = 0; i &lt; 500; i++) &#123;</span><br><span class="line">  this.load.image(&apos;logo&apos;+i, &apos;assets/logo.png&apos;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>If you reload your game, you should see that it takes a little while for our game image to appear. To show the users that your game is loading, we can add a progress bar. To do this, we are going to create 2 rectangles, one for the progress bar, and one as a boarder to the bar. In the <code>preload</code> function, add the following code at the top of the function:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">var progress = this.add.graphics();</span><br><span class="line">var progressBox = this.add.graphics();</span><br><span class="line">progressBox.fillStyle(0x222222, 0.8);</span><br><span class="line">progressBox.fillRect(240, 270, 320, 50);</span><br></pre></td></tr></table></figure></p>
<p>To update the fill of the progress bar as the assets are loaded, we listen to the <code>progress</code> event. In the <code>preload</code> function, add the following code below the code you just added:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">this.load.on(&apos;progress&apos;, (value) =&gt; &#123;</span><br><span class="line">  progress.clear();</span><br><span class="line">  progress.fillStyle(0xffffff, 1);</span><br><span class="line">  progress.fillRect(250, 280, 300 * value, 30);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></p>
<p>Lastly, we can remove the progress bar from the game by destorying it once everything is loaded. We can do this by listening to the <code>complete</code> event. Add the following code below the code you just added:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">this.load.on(&apos;complete&apos;, () =&gt; &#123;</span><br><span class="line">  progress.destroy();</span><br><span class="line">  progressBox.destroy();</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></p>
<p>If you reload your game, you should see a nice preloader that fills up as assets are loaded.<br><img src="/2018/02/14/Phaser3-Create-a-simple-preloader/3.gif" title="completed preloader"></p>
<p>You can find the complete code below:</p>
<script src="https://gist.github.com/scottwestover/d7ab1a8b2643f038c00412960013e83e.js?file=index.html"></script>

<p>I hope you enjoyed this short tutorial. If you have any questions or comments, please share them below.</p>
</div></article></div></main><footer><div class="paginator"><a href="/2018/03/25/Unity-2D-Snake-Tutorial-Part-1/" class="prev">PREV</a><a href="/2018/02/11/Phaser-3-Release/" class="next">NEXT</a></div><div id="disqus_thread"></div><script>var disqus_shortname = 'scottwestover';
var disqus_identifier = '2018/02/14/Phaser3-Create-a-simple-preloader/';
var disqus_title = 'Phaser3 - Create a simple preloader';
var disqus_url = 'http://scottwestover.github.io/2018/02/14/Phaser3-Create-a-simple-preloader/';
(function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();</script><script id="dsq-count-scr" src="//scottwestover.disqus.com/count.js" async></script><div class="copyright"><p>© 2015 - 2018 <a href="http://scottwestover.github.io">Scott Westover</a>, powered by <a href="https://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/pinggod/hexo-theme-apollo" target="_blank">hexo-theme-apollo</a>.</p></div></footer></div><script src="/js/sw-register.js"></script><script async src="//cdn.bootcss.com/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML" integrity="sha384-crwIf/BuaWM9rM65iM+dWFldgQ1Un8jWZMuh3puxb8TOY9+linwLoI7ZHZT+aekW" crossorigin="anonymous"></script><script>(function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;e=o.createElement(i);r=o.getElementsByTagName(i)[0];e.src='//www.google-analytics.com/analytics.js';r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));ga('create',"UA-65933410-1",'auto');ga('send','pageview');</script></body></html>