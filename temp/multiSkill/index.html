<html>
    <head>
        <script type="text/javascript" charset="utf8" src="https://lpcdn.lpsnmedia.net/webagent/client-SDK.min.js"></script>
    </head>
    <body>
        <center>
            <img src="img/loading.gif" />
            <div>
                <button type="button" onclick="window.location.href='aveda.html';">Aveda Content</button><br>
                <button type="button" onclick="window.location.href='bumble.html';">Bumble Content</button><br>
                <button type="button" onclick="window.location.href='clinique.html';">Clinique Content</button><br>
                <button type="button" onclick="window.location.href='glamglow.html';">GlamGlow Content</button><br>
                <button type="button" onclick="window.location.href='px.html';">PX Content</button><br>
            </div>
        </center>
        <script>
            var pathToData = "engagementInfo.skill";
            var notificationHandler = function(data) {
                // Do something with the notifications
            };
            var focusHandler = function() {
                // Do something when the visitor is focused
                // Assume the visitor is focused to begin with
            };
            var blurHandler = function() {
                // Do something when the visitor is blurred
                // Assume the visitor is focused to begin with
            };
            var updateCallback = function(data) {
                // Do something with the returning data
                var path = data.key;
                var value = data.newValue;
                // called each time the value is updated.
                // If there's an existing value when bind is called - this callback
                // will be called with the existing value
                if(value.trim() === "AVEDAPRODUCT" || value.trim() === "AVEDAPRODUCTMOBILE") {
                    window.location.href = "aveda.html";
                }
                else if(value.trim() === "BUMBLEPRODUCT" || value.trim() === "BUMBLEPRODUCTMOBILE") {
                    window.location.href = "bumble.html";
                }
                else if(value.trim() === "CLPRODUCT" || value.trim() === "CLPRODUCTMOBILE") {
                    window.location.href = "clinique.html";
                }
                else if(value.trim() === "GLAMGLOW" || value.trim() === "GLAMGLOWMOBILE") {
                    window.location.href = "glamglow.html";
                }
                else if(value.trim() === "PXPRODUCT" || value.trim() === "PXPRODUCTMOBILE") {
                    window.location.href = "px.html";
                }
                else {
                }
            };
            var notifyWhenDone = function(err) {
                if (err) {
                    // Do something with the error
                }
                // called when the bind is completed successfully,
                // or when the action terminated with an error.
            };

            lpTag.agentSDK.init({
                notificationCallback: notificationHandler,
                visitorFocusedCallback: focusHandler,
                visitorBlurredCallback: blurHandler
            });
            lpTag.agentSDK.bind(pathToData, updateCallback, notifyWhenDone);
        </script>
    </body>
</html>